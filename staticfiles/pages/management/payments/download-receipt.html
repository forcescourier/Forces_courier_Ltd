<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Download Receipt - Courier Management System</title>
    <link rel="icon" type="image/png" sizes="16x16" href="../../../assets/images/favicon.png">
    <link href="../../../vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="../../../assets/css/style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
        .receipt-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border: 1px solid #ddd;
            padding: 20px;
        }
        .receipt-header {
            text-align: center;
            border-bottom: 2px dashed #ccc;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        .receipt-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 2px 0;
        }
        .receipt-total {
            border-top: 2px solid #333;
            padding-top: 10px;
            margin-top: 15px;
            font-weight: bold;
            font-size: 1.1em;
        }
        .receipt-footer {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px dashed #ccc;
            font-size: 0.9em;
        }
        .download-options {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        @media print {
            .no-print { display: none !important; }
            .receipt-container { 
                border: none; 
                box-shadow: none;
                margin: 0;
                padding: 10px;
            }
            body { font-size: 12px; }
        }
        .qr-code {
            display: inline-block;
            width: 80px;
            height: 80px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            text-align: center;
            line-height: 80px;
            font-size: 10px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>

    <div id="main-wrapper">
        <div class="nav-header">
            <a href="../../../index.html" class="brand-logo">
                <img class="logo-abbr" src="../../../assets/images/logo.png" alt="">
                <img class="logo-compact" src="../../../assets/images/logo-text.png" alt="">
                <img class="brand-title" src="../../../assets/images/logo-text.png" alt="">
            </a>
            <div class="nav-control">
                <div class="hamburger">
                    <span class="line"></span><span class="line"></span><span class="line"></span>
                </div>
            </div>
        </div>

        <div class="header">
            <div class="header-content">
                <nav class="navbar navbar-expand">
                    <div class="collapse navbar-collapse justify-content-between">
                        <div class="header-left">
                            <div class="dashboard_bar">Download Receipt</div>
                        </div>
                        <ul class="navbar-nav header-right">
                            <li class="nav-item dropdown header-profile">
                                <a class="nav-link" href="#" role="button" data-toggle="dropdown">
                                    <img src="../../../assets/images/profile/1.jpg" width="20" alt="">
                                    <div class="header-info">
                                        <span class="text-black"><strong>Admin User</strong></span>
                                        <p class="mb-0 fs-12">Administrator</p>
                                    </div>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a href="../../../profile.html" class="dropdown-item ai-icon">
                                        <i class="flaticon-381-user"></i>
                                        <span class="ml-2">Profile</span>
                                    </a>
                                    <a href="../../authentication/logout.html" class="dropdown-item ai-icon">
                                        <i class="flaticon-381-exit"></i>
                                        <span class="ml-2">Logout</span>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>

        <div class="deznav">
            <div class="deznav-scroll">
                <ul class="metismenu" id="menu">
                    <li><a href="../../../index.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-networking"></i>
                            <span class="nav-text">Dashboard</span>
                        </a></li>
                    <li><a href="../parcels/parcels.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-box"></i>
                            <span class="nav-text">Parcels</span>
                        </a></li>
                    <li><a href="../merchants/merchants.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-user-7"></i>
                            <span class="nav-text">Merchants</span>
                        </a></li>
                    <li><a href="../riders/riders.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-bike"></i>
                            <span class="nav-text">Riders</span>
                        </a></li>
                    <li><a href="../services/services.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-list"></i>
                            <span class="nav-text">Services</span>
                        </a></li>
                    <li><a href="../areas/areas.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-map"></i>
                            <span class="nav-text">Areas</span>
                        </a></li>
                    <li><a href="../payments/payments.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-wallet"></i>
                            <span class="nav-text">Payments</span>
                        </a></li>
                    <li><a href="../invoices/invoices.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-invoice"></i>
                            <span class="nav-text">Invoices</span>
                        </a></li>
                    <li><a href="../../reports/reports.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-chart"></i>
                            <span class="nav-text">Reports</span>
                        </a></li>
                    <li><a href="../../../settings.html" class="ai-icon" aria-expanded="false">
                            <i class="flaticon-381-settings"></i>
                            <span class="nav-text">Settings</span>
                        </a></li>
                </ul>
            </div>
        </div>

        <div class="content-body">
            <div class="container-fluid">
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>Payment Receipt</h4>
                            <span>Download or print payment receipt</span>
                        </div>
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                            <li class="breadcrumb-item"><a href="../payments/payments.html">Payments</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">Receipt</a></li>
                        </ol>
                    </div>
                </div>

                <!-- Download Options -->
                <div class="row no-print">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Download Options</h4>
                            </div>
                            <div class="card-body">
                                <div class="download-options">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-download text-primary mr-2"></i>Download Receipt</h6>
                                            <p class="text-muted mb-3">Choose your preferred format to download the receipt</p>
                                            <button class="btn btn-primary mr-2 mb-2" onclick="downloadPDF()">
                                                <i class="fas fa-file-pdf mr-2"></i>Download PDF
                                            </button>
                                            <button class="btn btn-success mr-2 mb-2" onclick="downloadImage()">
                                                <i class="fas fa-image mr-2"></i>Download Image
                                            </button>
                                            <button class="btn btn-info mb-2" onclick="emailReceipt()">
                                                <i class="fas fa-envelope mr-2"></i>Email Receipt
                                            </button>
                                        </div>
                                        <div class="col-md-6">
                                            <h6><i class="fas fa-print text-success mr-2"></i>Print Receipt</h6>
                                            <p class="text-muted mb-3">Print directly or save as PDF using your browser</p>
                                            <button class="btn btn-success mr-2 mb-2" onclick="printReceipt()">
                                                <i class="fas fa-print mr-2"></i>Print Receipt
                                            </button>
                                            <button class="btn btn-secondary mr-2 mb-2" onclick="printThermal()">
                                                <i class="fas fa-receipt mr-2"></i>Thermal Print
                                            </button>
                                            <a href="view-payment.html" class="btn btn-outline-primary mb-2">
                                                <i class="fas fa-arrow-left mr-2"></i>Back to Payment
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Receipt Preview -->
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header no-print">
                                <h4 class="card-title">Receipt Preview</h4>
                                <div class="card-action">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="receiptFormat" id="standardFormat" value="standard" checked>
                                        <label class="form-check-label" for="standardFormat">Standard</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="receiptFormat" id="thermalFormat" value="thermal">
                                        <label class="form-check-label" for="thermalFormat">Thermal</label>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="receipt-container" id="receiptContent">
                                    <!-- Receipt Header -->
                                    <div class="receipt-header">
                                        <img src="../../../assets/images/logo-text.png" alt="Logo" style="max-height: 40px;" class="mb-2">
                                        <h5 class="mb-1">Swift Courier Services</h5>
                                        <p class="mb-0 small">123 Business Street, Dhaka 1000, Bangladesh</p>
                                        <p class="mb-0 small">Phone: +880 2 1234567 | Email: info@swiftcourier.com</p>
                                    </div>

                                    <!-- Receipt Details -->
                                    <div class="receipt-body">
                                        <div class="text-center mb-3">
                                            <h6><strong>PAYMENT RECEIPT</strong></h6>
                                        </div>

                                        <div class="receipt-row">
                                            <span>Receipt No:</span>
                                            <span><strong>RCP-2024-001234</strong></span>
                                        </div>
                                        <div class="receipt-row">
                                            <span>Payment ID:</span>
                                            <span>PAY-2024-001234</span>
                                        </div>
                                        <div class="receipt-row">
                                            <span>Transaction ID:</span>
                                            <span>TXN-2024-789456</span>
                                        </div>
                                        <div class="receipt-row">
                                            <span>Date & Time:</span>
                                            <span>Dec 15, 2024 2:30 PM</span>
                                        </div>
                                        <div class="receipt-row">
                                            <span>Payment Method:</span>
                                            <span>Credit Card (**** 1234)</span>
                                        </div>

                                        <div style="margin: 15px 0; border-top: 1px dashed #ccc; padding-top: 10px;">
                                            <div class="receipt-row">
                                                <span>Customer Name:</span>
                                                <span>John Smith</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Phone:</span>
                                                <span>+880 1712345678</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Email:</span>
                                                <span>john.smith@email.com</span>
                                            </div>
                                        </div>

                                        <div style="margin: 15px 0; border-top: 1px dashed #ccc; padding-top: 10px;">
                                            <div class="receipt-row">
                                                <span>Parcel ID:</span>
                                                <span>PKG-2024-001234</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Service Type:</span>
                                                <span>Same Day Delivery</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>From:</span>
                                                <span>Dhaka</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>To:</span>
                                                <span>Chittagong</span>
                                            </div>
                                        </div>

                                        <div style="margin: 15px 0; border-top: 1px dashed #ccc; padding-top: 10px;">
                                            <div class="receipt-row">
                                                <span>Service Charge:</span>
                                                <span>৳200.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Weight Charge:</span>
                                                <span>৳25.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Delivery Fee:</span>
                                                <span>৳15.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Subtotal:</span>
                                                <span>৳240.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>VAT (15%):</span>
                                                <span>৳36.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Processing Fee:</span>
                                                <span>৳26.00</span>
                                            </div>
                                        </div>

                                        <div class="receipt-total">
                                            <div class="receipt-row">
                                                <span>TOTAL PAID:</span>
                                                <span>৳250.00</span>
                                            </div>
                                            <div class="receipt-row">
                                                <span>Payment Status:</span>
                                                <span style="color: green;"><strong>COMPLETED</strong></span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Receipt Footer -->
                                    <div class="receipt-footer">
                                        <div class="row align-items-center">
                                            <div class="col-8">
                                                <p class="mb-1"><strong>Thank you for choosing Swift Courier!</strong></p>
                                                <p class="mb-1 small">Track your parcel: www.swiftcourier.com/track</p>
                                                <p class="mb-0 small">Customer Support: +880 2 1234567</p>
                                            </div>
                                            <div class="col-4 text-center">
                                                <div class="qr-code">
                                                    QR Code<br>
                                                    Track
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-3 pt-2" style="border-top: 1px dashed #ccc;">
                                            <p class="mb-0 small">This is a computer generated receipt. No signature required.</p>
                                            <p class="mb-0 small">Powered by Swift Courier Management System</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="copyright">
                <p>Copyright © 2024 Courier Management System. All rights reserved.</p>
            </div>
        </div>
    </div>

    <script src="../../../vendor/global/global.min.js"></script>
    <script src="../../../vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="../../../assets/js/custom.min.js"></script>
    <script src="../../../assets/js/deznav-init.js"></script>

    <script>
        // Download functions
        function downloadPDF() {
            alert('Generating PDF receipt...');
            // In a real implementation, this would generate and download a PDF
            setTimeout(function() {
                alert('PDF receipt downloaded successfully!');
            }, 2000);
        }

        function downloadImage() {
            alert('Generating image receipt...');
            // In a real implementation, this would generate and download an image
            setTimeout(function() {
                alert('Image receipt downloaded successfully!');
            }, 1500);
        }

        function emailReceipt() {
            const email = prompt('Enter email address:', 'john.smith@email.com');
            if (email) {
                alert(`Receipt sent to ${email} successfully!`);
            }
        }

        function printReceipt() {
            window.print();
        }

        function printThermal() {
            // Switch to thermal format before printing
            $('input[value="thermal"]').prop('checked', true);
            switchReceiptFormat('thermal');
            setTimeout(function() {
                window.print();
            }, 500);
        }

        // Format switching
        $('input[name="receiptFormat"]').change(function() {
            const format = $(this).val();
            switchReceiptFormat(format);
        });

        function switchReceiptFormat(format) {
            const receiptContainer = $('#receiptContent');
            
            if (format === 'thermal') {
                receiptContainer.css({
                    'max-width': '300px',
                    'font-size': '12px',
                    'padding': '10px'
                });
                receiptContainer.find('img').css('max-height', '30px');
                receiptContainer.find('.qr-code').css({
                    'width': '60px',
                    'height': '60px',
                    'line-height': '60px',
                    'font-size': '8px'
                });
            } else {
                receiptContainer.css({
                    'max-width': '600px',
                    'font-size': '14px',
                    'padding': '20px'
                });
                receiptContainer.find('img').css('max-height', '40px');
                receiptContainer.find('.qr-code').css({
                    'width': '80px',
                    'height': '80px',
                    'line-height': '80px',
                    'font-size': '10px'
                });
            }
        }

        // Auto-generate receipt number
        $(document).ready(function() {
            const receiptNo = 'RCP-' + new Date().getFullYear() + '-' + 
                              String(Math.floor(Math.random() * 1000000)).padStart(6, '0');
            // Update receipt number if needed
        });
    </script>
</body>
</html>