{%extends 'base.html'%}
{%block title%}<title>Export Data</title>{%endblock%}
{%block content%}
<!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <div class="container-fluid">
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>Export Merchants</h4>
                            <span>Export merchant data in various formats</span>
                        </div>
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="../../../index.html">Home</a></li>
                            <li class="breadcrumb-item"><a href="../merchants/merchants.html">Merchants</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">Export</a></li>
                        </ol>
                    </div>
                </div>

                <!-- Export Options -->
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Export Configuration</h4>
                            </div>
                            <div class="card-body">
                                <form method="get" id="export-form" action="{% url 'export_merchants'%}">
                                    <!-- Export Format -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h5 class="mb-3">Export Format</h5>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="export_formate" class="text-label">File Format <span class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-file"></i></span>
                                                    </div>
                                                    <select class="form-control" name="format" required>
                                                        <option value="">Select Format</option>
                                                        <option value="csv">CSV (.csv)</option>
                                                        <option value="xlsx">Excel (.xlsx)</option>
                                                        <option value="pdf">PDF (.pdf)</option>
                                                        <option value="json">JSON (.json)</option>
                                                       
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        

                                    <!-- Data Selection -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h5 class="mb-3 mt-4">Data Selection</h5>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Export Type</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-list"></i></span>
                                                    </div>
                                                    <select class="form-control" name="status" >
                                                        <option value="all" selected>All Merchants</option>
                                                        <option value="Approved">Active Merchants Only</option>
                                                        <option value="inactive">Inactive Merchants Only</option>
                                                        <option value="pending">Pending Approval</option>
                                                        <option value="rejected">Suspended Merchants</option>
                                                        
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Date Range</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-calendar"></i></span>
                                                    </div>
                                                    <select class="form-control" name="date_range">
                                                        <option value="all" selected>All Time</option>
                                                        <option value="today">Today</option>
                                                        <option value="yesterday">Yesterday</option>
                                                        <option value="last7days">Last 7 Days</option>
                                                        <option value="last30days">Last 30 Days</option>
                                                        
                                                        <option value="custom">Custom Range</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-2">
                                       <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Start Date
                                                    <small class="text-muted">(only if "Custom Range")</small>
                                                </label>
                                                <input type="date" class="form-control" name="start_date">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">End Date
                                                    <small class="text-muted">(only if "Custom Range")</small>
                                                </label>
                                                <input type="date" class="form-control" name="end_date">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" id="custom-date-range" style="display: none;">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Start Date</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-calendar"></i></span>
                                                    </div>
                                                    <input type="date" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">End Date</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-calendar"></i></span>
                                                    </div>
                                                    <input type="date" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Field Selection -->
                                

<div class="row">
    <div class="col-md-12">
        <div class="form-group">
            <label class="text-label">Select Fields to Export</label>
            <div class="row">
                <div class="col-md-4">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-id" name="fields" value="merchant_id" checked>
                        <label class="custom-control-label" for="field-id">Merchant ID</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-business-name" name="fields" value="merchant_business_name" checked>
                        <label class="custom-control-label" for="field-business-name">Business Name</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-contact-person" name="fields" value="merchant_name" checked>
                        <label class="custom-control-label" for="field-contact-person">Contact Person</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-phone" name="fields" value="merchant_phone" checked>
                        <label class="custom-control-label" for="field-phone">Phone</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-email" name="fields" value="merchant_email" checked>
                        <label class="custom-control-label" for="field-email">Email</label>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-address" name="fields" value="merchant_address">
                        <label class="custom-control-label" for="field-address">Address</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-business-type" name="fields" value="merchant_category">
                        <label class="custom-control-label" for="field-business-type">Business Type</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-website" name="fields" value="merchant_business_url">
                        <label class="custom-control-label" for="field-website">Website</label>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-status" name="fields" value="status">
                        <label class="custom-control-label" for="field-status">Status</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-join-date" name="fields" value="created_at">
                        <label class="custom-control-label" for="field-join-date">Join Date</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-last-login" name="fields" value="last_login">
                        <label class="custom-control-label" for="field-last-login">Last Login</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-total-parcels" name="fields" value="total_parcels">
                        <label class="custom-control-label" for="field-total-parcels">Total Parcels</label>
                    </div>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="field-total-revenue" name="fields" value="total_revenue">
                        <label class="custom-control-label" for="field-total-revenue">Total Revenue</label>
                    </div>
                </div>
            </div>
            <div class="mt-2">
                <button type="button" class="btn btn-sm btn-outline-primary" id="select-all-fields">Select All</button>
                <button type="button" class="btn btn-sm btn-outline-secondary" id="deselect-all-fields">Deselect All</button>
            </div>
        </div>
    </div>
</div>


                                    <!-- Filter Options -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h5 class="mb-3 mt-4">Filter Options</h5>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="text-label">Business Type</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-list"></i></span>
                                                    </div>
                                                    <select class="form-control">
                                                        <option value="">All Types</option>
                                                        <option value="retail">Retail</option>
                                                        <option value="wholesale">Wholesale</option>
                                                        <option value="manufacturing">Manufacturing</option>
                                                        <option value="ecommerce">E-commerce</option>
                                                        <option value="logistics">Logistics</option>
                                                        <option value="other">Other</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="text-label">Country</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-location"></i></span>
                                                    </div>
                                                    <select class="form-control">
                                                        <option value="">All Countries</option>
                                                        <option value="BD">Bangladesh</option>
                                                        <option value="IN">India</option>
                                                        <option value="PK">Pakistan</option>
                                                        <option value="LK">Sri Lanka</option>
                                                        <option value="NP">Nepal</option>
                                                        <option value="US">United States</option>
                                                        <option value="GB">United Kingdom</option>
                                                        <option value="CA">Canada</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="text-label">Status</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-flag"></i></span>
                                                    </div>
                                                    <select class="form-control">
                                                        <option value="">All Statuses</option>
                                                        <option value="active">Active</option>
                                                        <option value="inactive">Inactive</option>
                                                        <option value="pending">Pending</option>
                                                        <option value="suspended">Suspended</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Minimum Parcels</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-box"></i></span>
                                                    </div>
                                                    <input type="number" class="form-control" placeholder="0" min="0">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Minimum Revenue</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-price-tag"></i></span>
                                                    </div>
                                                    <input type="number" class="form-control" placeholder="0.00" step="0.01" min="0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Export Options -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h5 class="mb-3 mt-4">Export Options</h5>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">File Naming</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="flaticon-381-file"></i></span>
                                                    </div>
                                                    <input type="text" class="form-control" placeholder="merchants_export" value="merchants_export">
                                                </div>
                                                <small class="text-muted">File will be named: [prefix]_[date].[extension]</small>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Include Headers</label>
                                                <div class="custom-control custom-switch">
                                                    <input type="checkbox" class="custom-control-input" id="include-headers" checked>
                                                    <label class="custom-control-label" for="include-headers">Include column headers</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Data Formatting</label>
                                                <div class="custom-control custom-switch">
                                                    <input type="checkbox" class="custom-control-input" id="format-dates">
                                                    <label class="custom-control-label" for="format-dates">Format dates (DD/MM/YYYY)</label>
                                                </div>
                                                <div class="custom-control custom-switch">
                                                    <input type="checkbox" class="custom-control-input" id="format-currency">
                                                    <label class="custom-control-label" for="format-currency">Format currency values</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="text-label">Compression</label>
                                                <div class="custom-control custom-switch">
                                                    <input type="checkbox" class="custom-control-input" id="compress-file">
                                                    <label class="custom-control-label" for="compress-file">Compress file (ZIP)</label>
                                                </div>
                                                <small class="text-muted">Reduces file size for large exports</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="text-right mt-4">
                                                <a href="../merchants/merchants.html" class="btn btn-light mr-2">Cancel</a>
                                                <button type="button" class="btn btn-info mr-2" id="preview-export">
                                                    <i class="flaticon-381-eye"></i> Preview Export
                                                </button>
                                                <button type="submit" class="btn btn-primary">
                                                    <i class="flaticon-381-download"></i> Export Data
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Export Preview -->
                <div class="row" id="export-preview" style="display: none;">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Export Preview</h4>
                                <span class="badge badge-info" id="preview-count"></span>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-bordered table-striped" id="preview-table">
                                        <thead>
                                            <tr>
                                                <th>Merchant ID</th>
                                                <th>Business Name</th>
                                                <th>Contact Person</th>
                                                <th>Phone</th>
                                                <th>Email</th>
                                                <th>Status</th>
                                                <th>Join Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Preview data will be populated here -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div class="text-center mt-3">
                                    <button type="button" class="btn btn-success" id="confirm-export">
                                        <i class="flaticon-381-download"></i> Confirm Export
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="modify-export">
                                        <i class="flaticon-381-settings"></i> Modify Settings
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Export Progress -->
                <div class="row" id="export-progress" style="display: none;">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Export Progress</h4>
                            </div>
                            <div class="card-body">
                                <div class="progress mb-3">
                                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%" id="progress-bar">0%</div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <h5 id="processed-count">0</h5>
                                            <small>Records Processed</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <h5 id="total-count">0</h5>
                                            <small>Total Records</small>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="text-center">
                                            <h5 id="estimated-time">--</h5>
                                            <small>Estimated Time</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-3">
                                    <button type="button" class="btn btn-danger" id="cancel-export">
                                        <i class="flaticon-381-close"></i> Cancel Export
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Export History -->
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Recent Exports</h4>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-bordered table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>File Name</th>
                                                <th>Format</th>
                                                <th>Records</th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>2024-01-15 14:30</td>
                                                <td>merchants_export_20240115.csv</td>
                                                <td>CSV</td>
                                                <td>1,250</td>
                                                <td><span class="badge badge-success">Completed</span></td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-info">Download</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>2024-01-14 09:15</td>
                                                <td>active_merchants_20240114.xlsx</td>
                                                <td>Excel</td>
                                                <td>856</td>
                                                <td><span class="badge badge-success">Completed</span></td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-info">Download</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>2024-01-13 16:45</td>
                                                <td>merchant_report_20240113.pdf</td>
                                                <td>PDF</td>
                                                <td>2,100</td>
                                                <td><span class="badge badge-success">Completed</span></td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-info">Download</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Content body end-->



{%endblock%}